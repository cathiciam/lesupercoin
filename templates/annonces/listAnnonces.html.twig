{% extends "base.html.twig" %}

{% block header %}{% endblock %}

{% block body %}
	{# Affichage du message flash #}
	{% for message in app.flashes('add_success') %}
		<div class="alert alert-success alert-dismissible fade show">
			{{ message }}
			<button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
		</div>
	{% endfor %}

	{# Affichage du message flash #}
	{% for message in app.flashes('edit_success') %}
		<div class="alert alert-warning alert-dismissible fade show">
			{{ message }}
			<button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
		</div>
	{% endfor %}

	{# Affichage du message flash #}
	{% for message in app.flashes('delete_success') %}
		<div class="alert alert-danger alert-dismissible fade show">
			{{ message }}
			<button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
		</div>
	{% endfor %}

	<table class="table table-dark">
		<thead>
			<tr>
				<th scope="col">id</th>
				<th scope="col">title</th>
				<th scope="col">price</th>
				<th scope="col">description</th>
				<th scope="col">created_at</th>
				<th scope="col">updated_at</th>
				<th scope="col">option</th>
			</tr>
		</thead>
		<tbody>
			{% for annonce in annonces %}
				<tr>
					<th scope="row">{{annonce.id}}</th>
					<td>{{annonce.title}}</td>
					<td>{{annonce.prix}}</td>
					<td>{{annonce.content}}</td>
					<td>{{annonce.createdAt|date("m/d/Y")}}</td>
					<td>{{annonce.updatedAt|date("m/d/Y")}}</td>
					<td>
						<button type="button" class="btn btn-success">
							<a href="{{ path ('annonces_modifier', {id:annonce.id })}}">Modifier</button>
							<a href="{{ path ('annonces_delete', {id:annonce.id })}}" onclick="return confirm('Vous etes sur de supprimer?')">
								<button type="button" class="btn btn-warning">Supprimer</button>
							</td>


						</tr>
					{% endfor %}
				</tr>
			</tbody>
		</tbody>
	</table>


{% endblock %}
